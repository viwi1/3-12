<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3:12 Utdelningskalkylator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Exitruta -->
<div id="resultF√∂rs√§ljning"></div>

<!-- Investera -->
<div id="resultInvestera"></div>

<!-- üÜï Kollapsbar Modul -->
<div class="box collapsible-module">
    <button class="module-header" onclick="toggleModule('modul1')">
        <span class="toggle-btn">+</span>
        <span class="module-title" id="modul1-title" data-collapsed-title="Exitbelopp efter husl√•nsbetalning üè° 16 937 011 kr">
            Exitbelopp efter husl√•nsbetalning üè°
        </span>
    </button>
    <div id="modul1-content" class="module-content">
        <p class="module-text">Detta √§r br√∂dtexten √∂ver rubriken.</p>
        <h3 class="module-title-expanded" id="modul1-title-expanded"></h3>
        <span class="module-value" id="modul1-value-expanded"></span>
        <p class="module-text">Detta √§r br√∂dtexten under rubriken.</p>
    </div>
</div>

<!-- Utgifter -->
<div id="expenses"></div>

<!-- Skript -->
<script type="module" src="./js/state.js"></script>
<script type="module" src="./js/main.js"></script>
<script type="module" src="./js/exitberakning.js"></script>
<script type="module" src="./js/investera.js"></script>
<script type="module" src="./js/utgifter.js"></script>

<!-- üÜï Skript f√∂r kollapsbar modul -->
<script>
  function toggleModule(moduleId) {
      const content = document.getElementById(moduleId + "-content");
      const btn = document.querySelector(`#${moduleId} .toggle-btn`);
      const titleEl = document.getElementById(moduleId + "-title");
      const isExpanded = content.style.display === "block";

      if (!isExpanded) {
          // Kopiera rubrik och v√§rde till expanderad vy
          document.getElementById(moduleId + "-title-expanded").textContent = titleEl.textContent;
          document.getElementById(moduleId + "-value-expanded").textContent = titleEl.getAttribute("data-collapsed-title").split(" ").slice(-2).join(" "); // H√§mtar beloppet
      }

      content.style.display = isExpanded ? "none" : "block";
      btn.textContent = isExpanded ? "+" : "-";

      // Uppdatera titeln i st√§ngt l√§ge
      titleEl.textContent = isExpanded ? titleEl.getAttribute("data-collapsed-title") : titleEl.getAttribute("data-collapsed-title").split(" ")[0];
  }

  // D√∂lj modulinneh√•ll vid sidladdning
  document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("modul1-content").style.display = "none";
  });
</script>

</body>
</html>
