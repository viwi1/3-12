<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3:12 Utdelningskalkylator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Exitruta -->
<div id="resultFörsäljning"></div>

<!-- Investera -->
<div id="resultInvestera"></div>

<!-- 🆕 Kollapsbar Modul -->
<div class="box collapsible-module">
    <button class="module-header" onclick="toggleModule('modul1')">
        <span class="module-title" id="modul1-title">Exitbelopp efter huslånsbetalning 🏡</span>
        <span class="module-value" id="modul1-value">16 937 011 kr</span>
        <span class="toggle-btn">+</span>
    </button>
    <div id="modul1-content" class="module-content">
        <p class="module-text">Detta är brödtexten över rubriken.</p>
        <h3 class="module-title-expanded"></h3>
        <span class="module-value-expanded"></span>
        <p class="module-text">Detta är brödtexten under rubriken.</p>
    </div>
</div>

<!-- Utgifter -->
<div id="expenses"></div>

<!-- Skript -->
<script type="module" src="./js/state.js"></script>
<script type="module" src="./js/main.js"></script>
<script type="module" src="./js/exitberakning.js"></script>
<script type="module" src="./js/investera.js"></script>
<script type="module" src="./js/utgifter.js"></script>

<!-- 🆕 Skript för kollapsbar modul -->
<script>
  function toggleModule(moduleId) {
      const content = document.getElementById(moduleId + "-content");
      const btn = document.querySelector(`#${moduleId} .toggle-btn`);
      const title = document.getElementById(moduleId + "-title").textContent;
      const value = document.getElementById(moduleId + "-value").textContent;

      // Kopiera rubriken och beloppet till expanderad vy
      document.querySelector(".module-title-expanded").textContent = title;
      document.querySelector(".module-value-expanded").textContent = value;

      if (content.style.display === "none" || content.style.display === "") {
          content.style.display = "block";
          btn.textContent = "-";
      } else {
          content.style.display = "none";
          btn.textContent = "+";
      }
  }

  // Dölj modulinnehåll från start
  document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("modul1-content").style.display = "none";
  });
</script>

</body>
</html>
